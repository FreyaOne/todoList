{"remainingRequest":"/Users/fling/WebstormProjects/todo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fling/WebstormProjects/todo/src/components/allTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fling/WebstormProjects/todo/src/components/allTask.vue","mtime":1543370498326},{"path":"/Users/fling/WebstormProjects/todo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fling/WebstormProjects/todo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fling/WebstormProjects/todo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fling/WebstormProjects/todo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n\nimport axios from 'axios'\n// import allTask from './allTask'\nexport default {\n    // events: {\n    //     'searchA': function(items){\n    //         console.log('44444444' + items);\n    //     }\n    // },\n    data () {\n        return {\n            columns7: [\n                {\n                    type: 'selection',\n                    width: 50,\n                    align: 'center'\n                },\n                {\n                    title: '任务标题',\n                    key: 'title',\n                    width: 250,\n                    align: 'center',\n                    tooltip: true,\n                    // render: (h, params) => {\n                    //     return h('div', [\n                    //         h('Icon', {\n                    //             props: {\n                    //                 type: 'person'\n                    //             }\n                    //         }),\n                    //         h('strong', params.row.title)\n                    //     ]);\n                    // }\n                },\n                {\n                    title: '开始日期',\n                    key: 'beginDate',\n                    width:150,\n                    align: 'center'\n                },\n                {\n                    title: '结束日期',\n                    key: 'deadline',\n                    width:150,\n                    align: 'center'\n                },\n                {\n                    title: '标记',\n                    key: 'property',\n                    width:150,\n                    align: 'center',\n                    filters: [\n                        {\n                            label: '紧急',\n                            value: 1\n                        },\n                        {\n                            label: '重要',\n                            value: 2\n                        },\n                        {\n                            label: '一般',\n                            value: 3\n                        },\n                        {\n                            label: '不急',\n                            value: 4\n                        },\n                    ],\n                    filterMultiple: false,\n                    filterMethod (value, row) {\n                        if (value === 1) {\n                            return row.property == '紧急';\n                        } else if (value === 2) {\n                            return row.property == '重要';\n                        }else if (value === 3) {\n                            return row.property == '一般';\n                        } else if (value === 4) {\n                            return row.property == '不急';\n                        }\n                    }\n                },\n                {\n                    title: '任务完成度',\n                    key: 'complete',\n                    width:150,\n                    align: 'center',\n                    filters: [\n                        {\n                            label: '未完成',\n                            value: 1\n                        },\n                        {\n                            label: '已完成',\n                            value: 2\n                        }\n                    ],\n                    filterMultiple: false,\n                    filterMethod (value, row) {\n                        if (value === 1) {\n                            return row.finish == '未完成';\n                        } else if (value === 2) {\n                            return row.finish == '已完成';\n                        }\n                    }\n                },\n                {\n                    title: 'Action',\n                    key: 'action',\n                    align: 'center',\n                    render: (h, params) => {\n                        return h('div', [\n                            // h('Button', {\n                            //     props: {\n                            //         type: 'primary',\n                            //         size: 'small'\n                            //     },\n                            //     style: {\n                            //         marginRight: '5px'\n                            //     },\n                            //     on: {\n                            //         click: () => {\n                            //             this.show(params.index)\n                            //         }\n                            //     }\n                            // }, '查看'),\n                            h('Button', {\n                                props: {\n                                    type: 'primary',\n                                    size: 'small'\n                                },\n                                style: {\n                                    marginRight:'15px'\n                                },\n                                on: {\n                                    click: () => {\n\n                                    }\n                                }\n                            }, '修改'),\n                            h('Button', {\n                                props: {\n                                    type: 'error',\n                                    size: 'small'\n                                },\n                                on: {\n                                    click: () => {\n                                        console.log(this.data6[params.index].id);\n                                        this.onDeleteTodoItem(this.data6[params.index].id);\n                                    }\n                                }\n                            }, '删除')\n\n                        ]);\n                    }\n                }\n            ],\n            data6: [],\n            data5: [],\n\n        }\n        props:['searchTitle']\n    },\n    mounted() {\n        // this.onSearch();\n        //加载组件时从服务器获取数据\n        // this.getDataFromServer()\n        this.onSearchByTitle()\n    },\n    methods: {\n        onDeleteTodoItem(itemid) {\n            var self = this\n            //删除item，其id为itemid\n\n            var url = 'http://123.57.45.31:9000/todo/v1/todo/' + itemid\n            //   url = 'http://127.0.0.1:9000/todo/v1/todo/' + itemid\n\n            //使用delete方法删除数据,注意传参方式\n            axios\n                .delete(url, {\n                    data: {\n                        userName: self.$store.state.user.userName,\n                        userPassword: self.$store.state.user.userPassword\n                    }\n                })\n                .then(function(response) {\n                    //执行成功\n                    if (response.data > 0) self.getDataFromServer()\n                })\n                .catch(function(error) {\n                    console.log(error)\n                    self.$router.push({ path: 'error' })\n                })\n        },\n\n        onSearch(){\n            if(this.$route.query.data6 == undefined){\n                console.log('1111111');\n                this.getDataFromServer();\n             }else{\n                self.data5 = this.$route.query.data6;\n            }\n             // else{\n            //    console.log('222');\n            // }\n        },\n        onSearchByTitle() {\n            var self = this\n            this.data6 = []\n            var url = 'http://123.57.45.31:9000/todo/v1/todos/title'\n            //   url = 'http://127.0.0.1:9000/todo/v1/todos/title'\n\n            console.log(url)\n            axios\n                .get(url, {\n                    params: {\n                        userName: self.$store.state.user.userName,\n                        userPassword: self.$store.state.user.userPassword,\n                        todo_title: this.$route.query.searchTitle\n                    }\n                })\n                .then(response => {\n                    // this.data6 = [];\n                    // this.data5 = [];\n                    if (response.data != null && response.data != '') {\n                        console.log(response.data);\n                        self.data6 = response.data\n                        console.log('4444444444444' + self.data6)\n                        // self.data5 = self.data6\n                    }\n                })\n                .catch(function(error) {\n                    console.log(error)\n                    self.$router.push({ path: 'error' })\n                })\n        },\n        getDataFromServer() {\n            var self = this\n            // var data6 = new array();\n            var url = 'http://123.57.45.31:9000/todo/v1/todos'\n            //  url = 'http://127.0.0.1:9000/todo/v1/todos'\n\n            axios\n                .get(url, {\n                    params: {\n                        userName: self.$store.state.user.userName,\n                        userPassword: self.$store.state.user.userPassword\n                    }\n                })\n                .then(response => {\n                    this.data6 = []\n                    this.data5 = []\n                    let data;\n                    if (response.data != null && response.data != '') {\n\n                        // console.log('77777 ' + Array.isArray(this.$route.query.data6));\n                        // if (this.$route.query.data6 == undefined && Array.isArray(this.$route.query.data6) == false) {\n                            self.data6 = response.data;\n                            console.log('9999999 ' + Array.isArray(this.$route.query.data6));\n                            self.data5 = self.data6;\n                            // }\n                            // else {\n                                // self.data6 = response.data\n                                // self.data6 = this.$route.query.data6;\n                                // self.data5 = self.data6;\n                                // console.log('777777777' + Array.isArray(self.data5));\n                            // }\n                            // console.log(self.data5)\n                            // self.data5 = self.data6;\n                            // console.log('111111111' + this.data6[0].property);\n                            for (var i = 0; i < this.data5.length; i++) {\n                                if (this.data6[i].property == 1) {\n                                    this.data5[i].property = '紧急';\n                                    console.log('22222222222' + this.data5[i].property);\n                                } else if (this.data6[i].property == 2) {\n                                    this.data5[i].property = '重要';\n                                } else if (this.data6[i].property == 3) {\n                                    this.data5[i].property = '一般';\n                                } else if (this.data6[i].property == 4) {\n                                    this.data5[i].property = '不急';\n                                }\n                                this.data5[i].complete = '未完成';\n                            }\n\n                        }\n                })\n                .catch(function(error) {\n                    console.log(error)\n                    self.$router.push({ path: '/error' })\n                })\n        },\n        remove (index) {\n            this.data6.splice(index, 1);\n        },\n    },\n}\n",{"version":3,"sources":["allTask.vue"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"allTask.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <Table height=\"500\" border ellipsis ref=\"selection\" :columns=\"columns7\" :data=\"data5\"></Table>\n</template>\n<script>\n    import axios from 'axios'\n    // import allTask from './allTask'\n    export default {\n        // events: {\n        //     'searchA': function(items){\n        //         console.log('44444444' + items);\n        //     }\n        // },\n        data () {\n            return {\n                columns7: [\n                    {\n                        type: 'selection',\n                        width: 50,\n                        align: 'center'\n                    },\n                    {\n                        title: '任务标题',\n                        key: 'title',\n                        width: 250,\n                        align: 'center',\n                        tooltip: true,\n                        // render: (h, params) => {\n                        //     return h('div', [\n                        //         h('Icon', {\n                        //             props: {\n                        //                 type: 'person'\n                        //             }\n                        //         }),\n                        //         h('strong', params.row.title)\n                        //     ]);\n                        // }\n                    },\n                    {\n                        title: '开始日期',\n                        key: 'beginDate',\n                        width:150,\n                        align: 'center'\n                    },\n                    {\n                        title: '结束日期',\n                        key: 'deadline',\n                        width:150,\n                        align: 'center'\n                    },\n                    {\n                        title: '标记',\n                        key: 'property',\n                        width:150,\n                        align: 'center',\n                        filters: [\n                            {\n                                label: '紧急',\n                                value: 1\n                            },\n                            {\n                                label: '重要',\n                                value: 2\n                            },\n                            {\n                                label: '一般',\n                                value: 3\n                            },\n                            {\n                                label: '不急',\n                                value: 4\n                            },\n                        ],\n                        filterMultiple: false,\n                        filterMethod (value, row) {\n                            if (value === 1) {\n                                return row.property == '紧急';\n                            } else if (value === 2) {\n                                return row.property == '重要';\n                            }else if (value === 3) {\n                                return row.property == '一般';\n                            } else if (value === 4) {\n                                return row.property == '不急';\n                            }\n                        }\n                    },\n                    {\n                        title: '任务完成度',\n                        key: 'complete',\n                        width:150,\n                        align: 'center',\n                        filters: [\n                            {\n                                label: '未完成',\n                                value: 1\n                            },\n                            {\n                                label: '已完成',\n                                value: 2\n                            }\n                        ],\n                        filterMultiple: false,\n                        filterMethod (value, row) {\n                            if (value === 1) {\n                                return row.finish == '未完成';\n                            } else if (value === 2) {\n                                return row.finish == '已完成';\n                            }\n                        }\n                    },\n                    {\n                        title: 'Action',\n                        key: 'action',\n                        align: 'center',\n                        render: (h, params) => {\n                            return h('div', [\n                                // h('Button', {\n                                //     props: {\n                                //         type: 'primary',\n                                //         size: 'small'\n                                //     },\n                                //     style: {\n                                //         marginRight: '5px'\n                                //     },\n                                //     on: {\n                                //         click: () => {\n                                //             this.show(params.index)\n                                //         }\n                                //     }\n                                // }, '查看'),\n                                h('Button', {\n                                    props: {\n                                        type: 'primary',\n                                        size: 'small'\n                                    },\n                                    style: {\n                                        marginRight:'15px'\n                                    },\n                                    on: {\n                                        click: () => {\n\n                                        }\n                                    }\n                                }, '修改'),\n                                h('Button', {\n                                    props: {\n                                        type: 'error',\n                                        size: 'small'\n                                    },\n                                    on: {\n                                        click: () => {\n                                            console.log(this.data6[params.index].id);\n                                            this.onDeleteTodoItem(this.data6[params.index].id);\n                                        }\n                                    }\n                                }, '删除')\n\n                            ]);\n                        }\n                    }\n                ],\n                data6: [],\n                data5: [],\n\n            }\n            props:['searchTitle']\n        },\n        mounted() {\n            // this.onSearch();\n            //加载组件时从服务器获取数据\n            // this.getDataFromServer()\n            this.onSearchByTitle()\n        },\n        methods: {\n            onDeleteTodoItem(itemid) {\n                var self = this\n                //删除item，其id为itemid\n\n                var url = 'http://123.57.45.31:9000/todo/v1/todo/' + itemid\n                //   url = 'http://127.0.0.1:9000/todo/v1/todo/' + itemid\n\n                //使用delete方法删除数据,注意传参方式\n                axios\n                    .delete(url, {\n                        data: {\n                            userName: self.$store.state.user.userName,\n                            userPassword: self.$store.state.user.userPassword\n                        }\n                    })\n                    .then(function(response) {\n                        //执行成功\n                        if (response.data > 0) self.getDataFromServer()\n                    })\n                    .catch(function(error) {\n                        console.log(error)\n                        self.$router.push({ path: 'error' })\n                    })\n            },\n\n            onSearch(){\n                if(this.$route.query.data6 == undefined){\n                    console.log('1111111');\n                    this.getDataFromServer();\n                 }else{\n                    self.data5 = this.$route.query.data6;\n                }\n                 // else{\n                //    console.log('222');\n                // }\n            },\n            onSearchByTitle() {\n                var self = this\n                this.data6 = []\n                var url = 'http://123.57.45.31:9000/todo/v1/todos/title'\n                //   url = 'http://127.0.0.1:9000/todo/v1/todos/title'\n\n                console.log(url)\n                axios\n                    .get(url, {\n                        params: {\n                            userName: self.$store.state.user.userName,\n                            userPassword: self.$store.state.user.userPassword,\n                            todo_title: this.$route.query.searchTitle\n                        }\n                    })\n                    .then(response => {\n                        // this.data6 = [];\n                        // this.data5 = [];\n                        if (response.data != null && response.data != '') {\n                            console.log(response.data);\n                            self.data6 = response.data\n                            console.log('4444444444444' + self.data6)\n                            // self.data5 = self.data6\n                        }\n                    })\n                    .catch(function(error) {\n                        console.log(error)\n                        self.$router.push({ path: 'error' })\n                    })\n            },\n            getDataFromServer() {\n                var self = this\n                // var data6 = new array();\n                var url = 'http://123.57.45.31:9000/todo/v1/todos'\n                //  url = 'http://127.0.0.1:9000/todo/v1/todos'\n\n                axios\n                    .get(url, {\n                        params: {\n                            userName: self.$store.state.user.userName,\n                            userPassword: self.$store.state.user.userPassword\n                        }\n                    })\n                    .then(response => {\n                        this.data6 = []\n                        this.data5 = []\n                        let data;\n                        if (response.data != null && response.data != '') {\n\n                            // console.log('77777 ' + Array.isArray(this.$route.query.data6));\n                            // if (this.$route.query.data6 == undefined && Array.isArray(this.$route.query.data6) == false) {\n                                self.data6 = response.data;\n                                console.log('9999999 ' + Array.isArray(this.$route.query.data6));\n                                self.data5 = self.data6;\n                                // }\n                                // else {\n                                    // self.data6 = response.data\n                                    // self.data6 = this.$route.query.data6;\n                                    // self.data5 = self.data6;\n                                    // console.log('777777777' + Array.isArray(self.data5));\n                                // }\n                                // console.log(self.data5)\n                                // self.data5 = self.data6;\n                                // console.log('111111111' + this.data6[0].property);\n                                for (var i = 0; i < this.data5.length; i++) {\n                                    if (this.data6[i].property == 1) {\n                                        this.data5[i].property = '紧急';\n                                        console.log('22222222222' + this.data5[i].property);\n                                    } else if (this.data6[i].property == 2) {\n                                        this.data5[i].property = '重要';\n                                    } else if (this.data6[i].property == 3) {\n                                        this.data5[i].property = '一般';\n                                    } else if (this.data6[i].property == 4) {\n                                        this.data5[i].property = '不急';\n                                    }\n                                    this.data5[i].complete = '未完成';\n                                }\n\n                            }\n                    })\n                    .catch(function(error) {\n                        console.log(error)\n                        self.$router.push({ path: '/error' })\n                    })\n            },\n            remove (index) {\n                this.data6.splice(index, 1);\n            },\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}