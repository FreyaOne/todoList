{"remainingRequest":"/Users/fling/WebstormProjects/todo的副本/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fling/WebstormProjects/todo的副本/src/components/today.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fling/WebstormProjects/todo的副本/src/components/today.vue","mtime":1544874235775},{"path":"/Users/fling/WebstormProjects/todo的副本/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fling/WebstormProjects/todo的副本/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fling/WebstormProjects/todo的副本/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fling/WebstormProjects/todo的副本/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nexport default {\n    data () {\n        return {\n            columns7: [\n                {\n                    title: '任务标题',\n                    key: 'title',\n                    width: 250,\n                    align: 'center',\n                    tooltip: true,\n                },\n                {\n                    title: '开始日期',\n                    key: 'beginDate',\n                    width:200,\n                    align: 'center',\n                    sortable:true,\n                },\n                {\n                    title: '结束日期',\n                    key: 'deadline',\n                    width:200,\n                    align: 'center'\n                },\n                {\n                    title: '标记',\n                    key: 'property',\n                    width:200,\n                    align: 'center',\n                    filters: [\n                        {\n                            label: '紧急',\n                            value: '1'\n                        },\n                        {\n                            label: '重要',\n                            value: '2'\n                        },\n                        {\n                            label: '一般',\n                            value: '3'\n                        },\n                        {\n                            label: '不急',\n                            value: '4'\n                        },\n                    ],\n                    filterMultiple: false,\n                    filterMethod (value, row) {\n                        if (value === '1') {\n                            return row.property == '紧急';\n                        } else if (value === '2') {\n                            return row.property == '重要';\n                        }else if (value === '3') {\n                            return row.property == '一般';\n                        } else if (value === '4') {\n                            return row.property == '不急';\n                        }\n                    }\n                },\n                {\n                    title: '任务完成度',\n                    key: 'complete',\n                    align: 'center',\n                    // filters: [\n                    //     {\n                    //         label: '未完成',\n                    //         value: '0'\n                    //     },\n                    //     {\n                    //         label: '已完成',\n                    //         value: '5'\n                    //     }\n                    // ],\n                    // filterMultiple: false,\n                    // filterMethod (value, row) {\n                    //     if (value === '0') {\n                    //         return row.complete == '未完成';\n                    //     } else if (value === '5') {\n                    //         return row.complete == '已完成';\n                    //     }\n                    // }\n                },\n            ],\n            data6: [],\n            data7: [],\n\n        }\n    },\n    mounted() {\n        //加载组件时从服务器获取数据\n        this.getTodayTask();\n    },\n    methods: {\n        getTodayTask() {    //获取今日任务\n            console.log(\"000000000000 你好你好\");\n            var self = this;\n            // var data6 = new array();\n            var url = 'http://123.57.45.31:9000/todo/v1/todos';\n            //  url = 'http://127.0.0.1:9000/todo/v1/todos'\n\n            axios\n                .get(url, {\n                    params: {\n                        userName: self.$store.state.user.userName,\n                        userPassword: self.$store.state.user.userPassword,\n                    }\n                })\n                .then(response => {\n                    this.data6 = [];\n                    this.data7 = [];\n                    this.temp = [];\n                    let moment = require('moment');\n                    if (response.data != null && response.data != '') {\n                        console.log(response.data);\n                        self.data6 = response.data;\n                        // console.log(\"222222\" + self.data6);\n                        console.log(\"55555551 \" + this.data6.length);\n                        console.log('66666666661 ' + this.data6[0].beginDate);\n                        for (var i = 0; i < this.data6.length; i++) {\n                            var startTime = this.data6[i].beginDate.replace(/-/g, '/');   //格式化日期格式\n                            var endTime = this.data6[i].deadline.replace(/-/g, '/');\n                            var todayTime = moment().format(\"YYYY-MM-DD\").replace(/-/g, '/');\n                            var sTime = new Date(startTime).getTime();   //开始时间距1970年的毫秒\n                            var eTime = new Date(endTime).getTime();     //结束时间距1970年的毫秒\n                            var tTime = new Date(todayTime).getTime();   //现在时间距1970年的毫秒\n                            // console.log(\"22222222222 \" + tTime - sTime <=0);\n                            if (tTime - sTime >= 0 && tTime - eTime <=0) {\n                                // console.log(\"1111111111 \" + tTime - eTime);\n                                // console.log(\"3333333\" + this.data6[i].property);\n                                this.temp.push(this.data6[i]);\n                                this.data7.push(this.data6[i]);\n                                // console.log('22222222222' + this.temp[i].property);\n                                // }\n                            }\n                            // console.log(\"111111111\" + this.temp[i].property);\n                        }\n                        console.log(\"666661 \" + this.data7.length);\n                        // console.log(self.data5)\n                        // self.data5 = self.data6;\n\n                        for (var j = 0; j < this.data7.length; j++) {\n                            if (this.temp[j].property == 1) {\n                                this.data7[j].property = '紧急';     //将value转化为汉字\n                                // console.log('22222222222' + this.data5[i].property);\n                            } else if (this.temp[j].property == 2) {\n                                this.data7[j].property = '重要';\n                            } else if (this.temp[j].property == 3) {\n                                this.data7[j].property = '一般';\n                            } else if (this.temp[j].property == 4) {\n                                this.data7[j].property = '不急';\n                            }\n                            if (this.temp[j].complete == 0) {\n                                this.data7[j].complete = '未完成';\n                            } else if (this.temp[j].complete == 5) {\n                                this.data7[j].complete = '已完成';\n                            }\n                        }\n\n                    }\n\n\n                })\n                .catch(function(error) {\n                    console.log(error)\n                    self.$router.push({ path: '/error' })\n                })\n        },\n        open () {\n            this.$Notice.open({\n                title: 'Notification title',\n                // desc: 'Here is the notification description. Here is the notification description. '\n            });\n        },\n        getFinishingTask(){    //获取即将结束任务\n            var self = this;\n            // var data6 = new array();\n            var url = 'http://123.57.45.31:9000/todo/v1/todos';\n            //  url = 'http://127.0.0.1:9000/todo/v1/todos'\n\n            axios\n                .get(url, {\n                    params: {\n                        userName: self.$store.state.user.userName,\n                        userPassword: self.$store.state.user.userPassword,\n                    }\n                })\n                .then(response => {\n                    this.data6 = [];\n                    this.data7 = [];\n                    this.temp = [];\n                    let moment = require('moment');\n                    if (response.data != null && response.data != '') {\n                        self.data6 = response.data;\n                        for (var i = 0; i < this.data6.length; i++) {\n                            if(this.data6[i].deadline == moment().format(\"YYYY-MM-DD\")){\n                                console.log(\"----------\");\n                                self.open(false);\n                            }\n                        }\n                    }\n                        console.log(\"666661 \" + this.data7.length);\n\n                })\n                .catch(function(error) {\n                    console.log(error)\n                    self.$router.push({ path: '/error' })\n                })\n        },\n        data1(){\n            let moment = require('moment');\n            console.log(\"111111111111 \" + this.data6);\n            for(var j = 0;j<this.data6.length;j++){\n                if(this.data6[j].deadline == moment().format(\"YYYY-MM-DD\")){     //结束日期与今日日期是否相同\n                    console.log(\"----------\");\n                    this.$Notice.open({\n                        title: '任务提醒',\n                        desc: this.data6[j].title + '任务 即将结束'\n                    });\n                }\n            }\n        },\n        remove (index) {\n            this.data6.splice(index, 1);\n        },\n    },\n}\n",{"version":3,"sources":["today.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"today.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <div style=\"height:30px;\">\n            <div style=\"float:left\">\n                <p style=\"font-size: 20px; padding-left:10px;\">任务列表</p>\n            </div>\n            <div style=\"float:right;padding-right:30px;\" @click=\"data1\">\n                <a>\n                    <Icon type=\"ios-alarm\" size=\"24\" color=\"red\"></Icon>\n                </a>\n            </div>\n        </div>\n        <div style=\"margin-top:20px;\">\n            <Table height=\"400\" border ellipsis :columns=\"columns7\" :data=\"data7\"></Table>\n        </div>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n    export default {\n        data () {\n            return {\n                columns7: [\n                    {\n                        title: '任务标题',\n                        key: 'title',\n                        width: 250,\n                        align: 'center',\n                        tooltip: true,\n                    },\n                    {\n                        title: '开始日期',\n                        key: 'beginDate',\n                        width:200,\n                        align: 'center',\n                        sortable:true,\n                    },\n                    {\n                        title: '结束日期',\n                        key: 'deadline',\n                        width:200,\n                        align: 'center'\n                    },\n                    {\n                        title: '标记',\n                        key: 'property',\n                        width:200,\n                        align: 'center',\n                        filters: [\n                            {\n                                label: '紧急',\n                                value: '1'\n                            },\n                            {\n                                label: '重要',\n                                value: '2'\n                            },\n                            {\n                                label: '一般',\n                                value: '3'\n                            },\n                            {\n                                label: '不急',\n                                value: '4'\n                            },\n                        ],\n                        filterMultiple: false,\n                        filterMethod (value, row) {\n                            if (value === '1') {\n                                return row.property == '紧急';\n                            } else if (value === '2') {\n                                return row.property == '重要';\n                            }else if (value === '3') {\n                                return row.property == '一般';\n                            } else if (value === '4') {\n                                return row.property == '不急';\n                            }\n                        }\n                    },\n                    {\n                        title: '任务完成度',\n                        key: 'complete',\n                        align: 'center',\n                        // filters: [\n                        //     {\n                        //         label: '未完成',\n                        //         value: '0'\n                        //     },\n                        //     {\n                        //         label: '已完成',\n                        //         value: '5'\n                        //     }\n                        // ],\n                        // filterMultiple: false,\n                        // filterMethod (value, row) {\n                        //     if (value === '0') {\n                        //         return row.complete == '未完成';\n                        //     } else if (value === '5') {\n                        //         return row.complete == '已完成';\n                        //     }\n                        // }\n                    },\n                ],\n                data6: [],\n                data7: [],\n\n            }\n        },\n        mounted() {\n            //加载组件时从服务器获取数据\n            this.getTodayTask();\n        },\n        methods: {\n            getTodayTask() {    //获取今日任务\n                console.log(\"000000000000 你好你好\");\n                var self = this;\n                // var data6 = new array();\n                var url = 'http://123.57.45.31:9000/todo/v1/todos';\n                //  url = 'http://127.0.0.1:9000/todo/v1/todos'\n\n                axios\n                    .get(url, {\n                        params: {\n                            userName: self.$store.state.user.userName,\n                            userPassword: self.$store.state.user.userPassword,\n                        }\n                    })\n                    .then(response => {\n                        this.data6 = [];\n                        this.data7 = [];\n                        this.temp = [];\n                        let moment = require('moment');\n                        if (response.data != null && response.data != '') {\n                            console.log(response.data);\n                            self.data6 = response.data;\n                            // console.log(\"222222\" + self.data6);\n                            console.log(\"55555551 \" + this.data6.length);\n                            console.log('66666666661 ' + this.data6[0].beginDate);\n                            for (var i = 0; i < this.data6.length; i++) {\n                                var startTime = this.data6[i].beginDate.replace(/-/g, '/');   //格式化日期格式\n                                var endTime = this.data6[i].deadline.replace(/-/g, '/');\n                                var todayTime = moment().format(\"YYYY-MM-DD\").replace(/-/g, '/');\n                                var sTime = new Date(startTime).getTime();   //开始时间距1970年的毫秒\n                                var eTime = new Date(endTime).getTime();     //结束时间距1970年的毫秒\n                                var tTime = new Date(todayTime).getTime();   //现在时间距1970年的毫秒\n                                // console.log(\"22222222222 \" + tTime - sTime <=0);\n                                if (tTime - sTime >= 0 && tTime - eTime <=0) {\n                                    // console.log(\"1111111111 \" + tTime - eTime);\n                                    // console.log(\"3333333\" + this.data6[i].property);\n                                    this.temp.push(this.data6[i]);\n                                    this.data7.push(this.data6[i]);\n                                    // console.log('22222222222' + this.temp[i].property);\n                                    // }\n                                }\n                                // console.log(\"111111111\" + this.temp[i].property);\n                            }\n                            console.log(\"666661 \" + this.data7.length);\n                            // console.log(self.data5)\n                            // self.data5 = self.data6;\n\n                            for (var j = 0; j < this.data7.length; j++) {\n                                if (this.temp[j].property == 1) {\n                                    this.data7[j].property = '紧急';     //将value转化为汉字\n                                    // console.log('22222222222' + this.data5[i].property);\n                                } else if (this.temp[j].property == 2) {\n                                    this.data7[j].property = '重要';\n                                } else if (this.temp[j].property == 3) {\n                                    this.data7[j].property = '一般';\n                                } else if (this.temp[j].property == 4) {\n                                    this.data7[j].property = '不急';\n                                }\n                                if (this.temp[j].complete == 0) {\n                                    this.data7[j].complete = '未完成';\n                                } else if (this.temp[j].complete == 5) {\n                                    this.data7[j].complete = '已完成';\n                                }\n                            }\n\n                        }\n\n\n                    })\n                    .catch(function(error) {\n                        console.log(error)\n                        self.$router.push({ path: '/error' })\n                    })\n            },\n            open () {\n                this.$Notice.open({\n                    title: 'Notification title',\n                    // desc: 'Here is the notification description. Here is the notification description. '\n                });\n            },\n            getFinishingTask(){    //获取即将结束任务\n                var self = this;\n                // var data6 = new array();\n                var url = 'http://123.57.45.31:9000/todo/v1/todos';\n                //  url = 'http://127.0.0.1:9000/todo/v1/todos'\n\n                axios\n                    .get(url, {\n                        params: {\n                            userName: self.$store.state.user.userName,\n                            userPassword: self.$store.state.user.userPassword,\n                        }\n                    })\n                    .then(response => {\n                        this.data6 = [];\n                        this.data7 = [];\n                        this.temp = [];\n                        let moment = require('moment');\n                        if (response.data != null && response.data != '') {\n                            self.data6 = response.data;\n                            for (var i = 0; i < this.data6.length; i++) {\n                                if(this.data6[i].deadline == moment().format(\"YYYY-MM-DD\")){\n                                    console.log(\"----------\");\n                                    self.open(false);\n                                }\n                            }\n                        }\n                            console.log(\"666661 \" + this.data7.length);\n\n                    })\n                    .catch(function(error) {\n                        console.log(error)\n                        self.$router.push({ path: '/error' })\n                    })\n            },\n            data1(){\n                let moment = require('moment');\n                console.log(\"111111111111 \" + this.data6);\n                for(var j = 0;j<this.data6.length;j++){\n                    if(this.data6[j].deadline == moment().format(\"YYYY-MM-DD\")){     //结束日期与今日日期是否相同\n                        console.log(\"----------\");\n                        this.$Notice.open({\n                            title: '任务提醒',\n                            desc: this.data6[j].title + '任务 即将结束'\n                        });\n                    }\n                }\n            },\n            remove (index) {\n                this.data6.splice(index, 1);\n            },\n        },\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}